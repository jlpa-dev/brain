{
    "componentChunkName": "component---src-templates-article-js",
    "path": "/articles/003-bot-con-casperjs-y-slimmerjs/",
    "result": {"data":{"site":{"siteMetadata":{"title":"JLPA | BLOG"}},"markdownRemark":{"id":"61715d97-8a33-5ac7-afb6-daac90e52190","excerpt":"Instalamos Slimmerjs y Casperjs Utilizamos el siguiente comando para instalar las librerias globalmente con npm $ npm install -g slimmerjs casperjs phamtonjs…","html":"<h2>Instalamos Slimmerjs y Casperjs</h2>\n<p>Utilizamos el siguiente comando para instalar las librerias globalmente con npm</p>\n<p><code>$ npm install -g slimmerjs casperjs phamtonjs</code></p>\n<p>Slimmerjs utiliza (en este momento) Gecko, que es usado por mozilla en sus navegadores, actualmente la versión soportada por slimmerjs es firefox 59. Descargaremos la última versión de firefox soportada por slimmerjs del repositorio ubicado en el siguiente <a href=\"https://ftp.mozilla.org/pub/firefox/releases/\">enlace</a>.</p>\n<p>A continuación creamos la variable de entorno que usará slimmerjs para ubicar nuestra versión de firefox.</p>\n<p><code>$ export PATH=$PATH:~/ubicacion/de/firefox</code></p>\n<p>Casperjs con slimmerjs</p>\n<p>Por defecto casperjs funciona con phantomjs, pero al ser phantomjs una libreria descontinuada (en este momento), usaremos slimmerjs. Para usar Casperjs con Slimmerjs debemos especificar a casperjs que queremos utilizar slimmerjs de la siguiente manera.</p>\n<p><code>$ casperjs --engine=slimerjs</code></p>\n<p>Utilizaremos el siguiente código, el cual entra a una página y toma un screenshot.</p>\n<blockquote>\n<p>caspScreenShot.js</p>\n</blockquote>\n<pre><code class=\"language-js\">casper = require('casper').create({\n   viewportSize: { width: 2340, height: 1620 }\n});\ncasper.start('http://localhost:3000/reporte/150101');\ncasper.then(function () {\n       this.echo('Titulo: ' + this.getTitle());\n}).then(function () {\n       casper.wait(15000, function () {\n       casper.evaluate(function(){\n                       //delete div 'content-meta'\n                       document.getElementById(\"rpt-controls\").outerHTML = \"\";\n               });\n               casper.then(function(){\n                       casper.capture('casper-screen.png');\n                   casper.echo(\"Screenshot taken\")\n               })\n       })\n})\ncasper.run();\n</code></pre>\n<p>Luego lo ejecutamos con casperjs y slimmerjs, especificando que queremos ver las salidas en ejecución y queremos ejecutarlo en modo headless.</p>\n<p><code>$ casperjs --engine=slimerjs --debug=true --headless caspScreenShoot.js</code></p>\n<p>Finalmente en nuestra carpeta exitirá un archivo llamado casper-screen.png.</p>","frontmatter":{"title":"Bot con Casperjs y Slimmerjs","date":"August 31, 2020","frontimage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/brain/static/9d88f35cf41b56df77c740d320be7fc7/9768e/frontimage.jpg","srcSet":"/brain/static/9d88f35cf41b56df77c740d320be7fc7/1d070/frontimage.jpg 125w,\n/brain/static/9d88f35cf41b56df77c740d320be7fc7/bbe4a/frontimage.jpg 250w,\n/brain/static/9d88f35cf41b56df77c740d320be7fc7/9768e/frontimage.jpg 500w","sizes":"(min-width: 500px) 500px, 100vw"},"sources":[{"srcSet":"/brain/static/9d88f35cf41b56df77c740d320be7fc7/ee52c/frontimage.webp 125w,\n/brain/static/9d88f35cf41b56df77c740d320be7fc7/28cc6/frontimage.webp 250w,\n/brain/static/9d88f35cf41b56df77c740d320be7fc7/3f116/frontimage.webp 500w","type":"image/webp","sizes":"(min-width: 500px) 500px, 100vw"}]},"width":960,"height":299.52}}},"description":"Bot con Casperjs y Slimmerjs"},"fields":{"slug":"/003-bot-con-casperjs-y-slimmerjs/"}},"previous":{"fields":{"slug":"/002-agregando-capa-raster-jp2-a-mapserver/"},"frontmatter":{"title":"Agregando capa Raster JP2 a mapserver"}},"next":{"fields":{"slug":"/004-grupos-en-mapserver/"},"frontmatter":{"title":"Grupos en Mapserver"}}},"pageContext":{"id":"61715d97-8a33-5ac7-afb6-daac90e52190","previousPostId":"c45f9884-4b06-5642-93f1-6b92c1ac800c","nextPostId":"944dd38d-738e-5549-bfe8-5af6e499db47"}},
    "staticQueryHashes": ["2841359383","3865664119"]}